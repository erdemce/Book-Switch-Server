{"version":3,"sources":["config.js","components/NavBar.js","components/SignUpForm.js","components/BookCard.js","components/SearchBar.js","components/BookList.js","components/Welcome.js","components/BookDetails.js","components/EditProfile.js","components/BookForm.js","components/BookDetailsCard.js","components/UploadPhotoForm.js","components/Profile.js","components/FooterBar.js","components/LogInForm.js","components/MessageList.js","components/MessagesDetails.js","App.js","index.js"],"names":["API_URL","process","REACT_APP_SERVER_URL","Header","Navbar","className","bg","Brand","to","Nav","activeKey","Item","src","alt","this","props","user","onClick","handleLogout","Component","SignUpForm","useState","locations","setLocations","name","setName","username","setUsername","lastName","setLastName","location","setLocation","email","setEmail","password","setPassword","useEffect","mounted","axios","get","config","then","response","data","catch","err","console","log","Form","onSubmit","handleSubmit","Group","Label","Control","required","type","placeholder","onChange","e","target","value","controlId","Text","as","map","loc","index","_id","city","Button","variant","size","block","BookCard","book","link","Card","Img","style","width","margin","photo","Body","Title","title","author","description","Footer","classNameName","owner","SearchBar","forSearch","action","method","aria-label","BookList","state","books","filtered","mode","searchText","handleSwitchMode","setState","updateFilter","handleSearch","event","toLowerCase","filteredBooks","filter","includes","switchMode","length","Spinner","animation","Fragment","WelcomePage","Modal","aria-labelledby","centered","closeButton","id","handleFirstEdit","onHide","Welcome","React","modalShow","setModalShow","show","BookDetails","bookId","match","params","maxWidth","EditProfile","handleProfileChange","BookForm","setPhoto","setTitle","setAuthor","setDescription","language","setLanguage","category","setCategory","setSwitchMode","fromGoogleList","setFromGooglelist","query","setTimeout","withCredentials","volumeInfo","imageLinks","authors","newTitle","slice","categories","thumbnail","class","smallThumbnail","handleAddorEditBook","hidden","BookDetailsCard","showTextArea","showEditBookForm","handleDelete","handleEditBook","CardDeck","Row","Col","form","cols","rows","cursor","UploadPhotoForm","handlePhoto","enctype","accept","Profile","addFormShow","profileFormShow","showUploadPhotoForm","preventDefault","updatedUser","post","history","push","userLibrary","handleAddBook","roundedCircle","FooterBar","LogInForm","MessageList","messages","loggedInUser","contacts","messageGroups","msg","bookRelated","forEach","ms","contact","between","messageGroup","date","toString","substring","text","messagesWithOne","MessagesDetails","input","reset","message","contactId","App","isNewUser","files","uploadForm","FormData","append","handleSignUp","handleLogIn","editedBook","updatedBook","updatedLibrary","newBook","responseBook","delete","NavBar","exact","path","render","routeProps","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7564a913.chunk.js","sourcesContent":["export default {\n\tAPI_URL: process.env.REACT_APP_SERVER_URL ||\"https://localhost:5005\"\n}","import React, { Component } from 'react'\nimport {Link} from 'react-router-dom'\nimport {Navbar, Nav} from 'react-bootstrap'\n\nclass Header extends Component {\n    render() {\n        return (\n            <div>\n                <Navbar className=\"hor-ver-2 justify-content-between body-width\" bg=\"light\">\n                    <Navbar.Brand className=\"justify-content-center logo\"><Link to=\"/\"><h1>Book<span>Switch</span></h1></Link></Navbar.Brand>\n                    <Nav className=\"hor-ver-2 justify-content-end justify-content-around\" activeKey=\"/\">\n                        \n                            <Nav.Item ><Link to=\"/\"><img src='/assets/home.png' alt=\"home-icon\"/><br></br>Home</Link></Nav.Item>\n                            { (this.props.user) && (<Nav.Item><Link to=\"/messages\"><img src='/assets/002-speech-bubble.png' alt=\"messages-icon\"/><br></br>Messages</Link></Nav.Item>)}\n                            { (this.props.user) && ( <Nav.Item><Link to=\"/profile\"><img src='/assets/005-like.png' alt=\"profile-icon\"/><br></br>Profile</Link></Nav.Item> )}              \n                            { (this.props.user) && ( <Nav.Item><Link onClick={this.props.handleLogout}><img src='/assets/016-shortcut-script-app.png' alt=\"logout-icon\"/><br></br>Log Out</Link></Nav.Item>)}\n                            { (!this.props.user) && ( <Nav.Item><Link to=\"/signup\">Signup</Link></Nav.Item> )} \n                            { (!this.props.user) && ( <Nav.Item><Link to=\"/login\">Login</Link></Nav.Item> )} \n                         \n                      \n                    </Nav>\n                </Navbar>\n            </div> \n        )\n    }\n}\nexport default Header","import config from '../config'\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Form, Button } from \"react-bootstrap\";\n\nfunction SignUpForm(props) {\n  const [locations, setLocations] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n    let mounted = true;\n    axios\n      .get(`${config.API_URL}/api/location`)\n      .then((response) => {\n        if (mounted) {\n          setLocations(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    return () => (mounted = false);\n  }, []);\n\n  return (\n    <Form className=\"body-width\" onSubmit={props.handleSubmit}>\n      <Form.Group>\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          required\n          name=\"username\"\n          type=\"text\"\n          placeholder=\"Enter username\"\n          onChange={(e) => setUsername(e.target.value)}\n          value={username}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Name</Form.Label>\n        <Form.Control \n        name=\"name\" type=\"text\" placeholder=\"Enter name\"\n        onChange={(e) => setName(e.target.value)}\n              value={name} />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Last Name</Form.Label>\n        <Form.Control\n          name=\"lastName\"\n          type=\"text\"\n          placeholder=\"Enter last name\"\n          onChange={(e) => setLastName(e.target.value)}\n              value={lastName}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"formBasicEmail\">\n        <Form.Label>Email address</Form.Label>\n        <Form.Control\n          required\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Enter email\"\n          onChange={(e) => setEmail(e.target.value)}\n              value={email}\n        />\n        <Form.Text className=\"text-muted\">\n          We'll never share your email with anyone else.\n        </Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"formBasicPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          required\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => setPassword(e.target.value)}\n              value={password}\n        />\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>City</Form.Label>\n\n        <Form.Control\n          as=\"select\"\n          placeholder=\"Select your city\"\n          name=\"location\"\n          onChange={(e) => setLocation(e.target.value)}\n              value={location}\n        >\n          {locations.map((loc, index) => {\n            return (\n              <option key={index} value={loc._id}>\n                {loc.city}\n              </option>\n            );\n          })}\n        </Form.Control>\n      </Form.Group>\n\n      <Button variant=\"primary\" size=\"lg\" block type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\nexport default SignUpForm;","import React, { Component } from 'react'\nimport { Card } from \"react-bootstrap\";\nimport {Link} from 'react-router-dom'\n\nexport default class BookCard extends Component {\n    render() {\n\n        const {book} =this.props\n\n\n        let link=\"/book/\"+book._id\n\n        return (\n            <Link to={link} key={book._id}>\n              <Card>\n                <Card.Img\n                  style={{ width: \"120px\", margin:\"0 auto\"}}\n                  variant=\"top\"\n                  src={book.photo}\n                />\n                <Card.Body>\n                  <Card.Title>{book.title}</Card.Title>\n                  <Card.Title>{book.author}</Card.Title>\n\n                  <Card.Text>{book.description}</Card.Text>\n                </Card.Body>\n                <Card.Footer>\n                  <small classNameName=\"text-muted\">{book.owner.city}</small>\n                </Card.Footer>\n              </Card>\n              </Link>\n        )\n    }\n}\n\n","import React, { Component } from \"react\";\n\nexport default class SearchBar extends Component {\n  render() {\n    const { forSearch } = this.props;\n    return (\n      <section className=\"searchbar body-width\">\n        <form className=\"d-flex\" action=\"/home\" method=\"GET\">\n          <img width=\"30px\"src=\"/assets/006-search.png\" alt=\"searchicon\"/>\n          <input\n            name=\"searchedToy\"\n            className=\"search-input form-control me-2\"\n            type=\"search\"\n            placeholder=\"Search by Author or Title\"\n            aria-label=\"Search\"\n            onChange={forSearch}\n          ></input>\n        </form>\n      </section>\n    );\n  }\n}\n","import config from '../config'\nimport React, { Component } from \"react\";\nimport { Button,Spinner } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport BookCard from \"./BookCard\";\nimport SearchBar from \"./SearchBar\";\nimport axios from \"axios\";\n\nexport default class BookList extends Component {\n  state = {\n    books: [],\n    filtered: [],\n    mode: \"all\",\n    searchText: \"\"  };\n\n  componentDidMount() {\n  \n    axios\n      .get(`${config.API_URL}/api/book`)\n      .then((response) => {\n        this.setState({ books: response.data, filtered: response.data });\n      })\n      .catch(() => {\n        console.log(\"Fetching failed\");\n      });\n  }\n\n  handleSwitchMode = (mode) => {\n    this.setState(\n      {\n        mode: mode,\n      },\n      this.updateFilter\n    );\n  };\n\n  handleSearch = (event) => {\n    let searchText = event.target.value.toLowerCase();\n    this.setState(\n      {\n        searchText: searchText,\n      },\n      this.updateFilter\n    );\n  };\n\n  updateFilter = () => {\n    const { searchText, mode, books } = this.state;\n    let filteredBooks = books.filter(\n      (book) =>\n        (book.title.toLowerCase().includes(searchText) ||\n          book.author.toLowerCase().includes(searchText)) &&\n        (mode === \"all\" || book.switchMode === mode)\n    );\n    this.setState({\n      filtered: filteredBooks,\n    });\n  };\n  render() {\n    const { books, filtered } = this.state;\n\n    if(books.length===0){\n      return <>\n      <Spinner animation=\"border\" variant=\"primary\" />\n      <Spinner animation=\"border\" variant=\"secondary\" />\n      <Spinner animation=\"border\" variant=\"success\" />\n      <Spinner animation=\"grow\" variant=\"primary\" />\n      <Spinner animation=\"grow\" variant=\"secondary\" />\n      <Spinner animation=\"grow\" variant=\"success\" />\n    </>\n    }\n\n    return (\n      <React.Fragment>\n        <section className=\"categories\">\n          <Button\n            onClick={() => this.handleSwitchMode(\"all\")}\n            className=\"btn btn-primary\"\n          >\n            All\n          </Button>\n          <Button\n            onClick={() => this.handleSwitchMode(\"switch\")}\n            className=\"btn btn-primary\"\n          >\n            Switch\n          </Button>\n          <Button\n            onClick={() => this.handleSwitchMode(\"gift\")}\n            className=\"btn btn-primary\"\n          >\n            Gift\n          </Button>\n          <Button\n            onClick={() => this.handleSwitchMode(\"temporary-switch\")}\n            className=\"btn btn-primary\"\n          >\n            Temporary Switch\n          </Button>\n\n          <Button className=\"btn btn-primary\">\n            <Link to=\"/book/random\">Random Book</Link>\n          </Button>\n        </section>\n\n        <SearchBar forSearch={this.handleSearch} />\n\n        <div className=\"row row-cols-1 row-cols-md-3 g-4\">\n          {filtered.map((book) => {\n            return <BookCard book={book} />;\n          })}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react'\nimport {Card, Button, Modal} from 'react-bootstrap'\n\n\nfunction  WelcomePage(props) {\n \n    return (\n     \n      <Modal\n        {...props}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-vcenter\">\n          <h2>Welcome to Book Switch!</h2>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"hor-ver-2\">\n        <Card.Img style={{width: \"270px\"}} src=\"assets/welcomepage.jpg\" alt=\"Card image\" />\n    \n          <div><p>\n          Thanks for joining Book Switch! You are now ready to switch books with other people in your community, creating a local book club in which instead of buying the same book many times, will allow a book to be read by many others. \n          Start by editing your profile where you can add books to your library so other people can request a switch.</p>\n\n          <p>You'll also be able to browse the books available in your city or search by title or author by using the search bar. \n          We also added a cool feature: random book. You can try it!\n          </p></div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={props.handleFirstEdit}>Start by Editing your Profile</Button>\n          <Button onClick={props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n  \n  function Welcome(props) {\n    const [modalShow, setModalShow] = React.useState(true);\n  \n    return (\n      <>\n        <WelcomePage   \n          handleFirstEdit={props.handleFirstEdit}\n          show={modalShow}\n          onHide={() => setModalShow(false)}\n        />\n      </>\n    );\n  }\n\n  \n  \n\nexport default Welcome\n\n","import config from '../config'\nimport React, { Component } from 'react'\nimport { Button,Spinner} from 'react-bootstrap'\nimport axios from \"axios\"\nimport { Link } from 'react-router-dom'\n\nexport default class BookDetails extends Component {\n\n    state = {\n        book: null,\n    }\n\ncompon\ncomponentDidMount(){\n\n\n    let bookId = this.props.match.params.bookId\n    axios.get(`${config.API_URL}/api/book/get/${bookId}`)\n      .then((response) => {\n      \n        this.setState({ book: response.data})\n      })\n      .catch((response) => {\n    \n        console.log('Fetching failed')\n      })\n      \n\n}\n    render() {\n        const {book} = this.state\n        const {user}=this.props\n\n        \n        if(!book||!user){\n            return <>\n            <Spinner animation=\"border\" variant=\"primary\" />\n            <Spinner animation=\"border\" variant=\"secondary\" />\n            <Spinner animation=\"border\" variant=\"success\" />\n            <Spinner animation=\"grow\" variant=\"primary\" />\n            <Spinner animation=\"grow\" variant=\"secondary\" />\n            <Spinner animation=\"grow\" variant=\"success\" />\n          </>\n          }\n\n          console.log(user._id,book.owner._id)\n          const link=`/messages/`+book.owner._id\n\n        return (<div className=\"div-message\">\n       \n            <div className=\"messages-div list-group\">\n                <div className=\"card mb-3\" style={{maxWidth: \"800px\"}}>\n                    <div className=\"row g-0\">\n                        <div className=\"col-md-4\">\n                            <img className=\"small-image\" src={book.photo} alt=\"book-cover\"></img>\n                        </div>\n                        <div className=\"col-md-8\">\n                            <div className=\"card-body\">\n                                <h4 className=\"card-title\">{book.title}</h4>\n                                <h5 className=\"card-title\">by {book.author} </h5>                               \n                                <p className=\"card-text\">{book.description}</p>\n                                <h5 className=\"card-title\">to {book.switchMode}</h5>\n                                {(user._id!==book.owner._id)&&(<p>Book owner: {book.owner.username}</p>)}\n                                <div>\n                                { (user._id===book.owner._id)&&(<img src='/assets/008-edition.png' alt=\"editbook-icon\" ></img>)}\n                                {  (user._id===book.owner._id)&&(<img src='/assets/032-delete-4.png' alt=\"deletebook-icon\"></img>)}\n                                { (user._id!==book.owner._id)&&(<Link to={link} ><Button >Request Switch</Button></Link>)} \n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n     \n        </div>\n  \n                  \n              \n        )\n    }\n}\n","import config from '../config'\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Modal, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction EditProfile(props) {\n  const [locations, setLocations] = useState([]);\n  const [name, setName] = useState(props.user.name);\n  const [username, setUsername] = useState(props.user.username);\n  const [lastName, setLastName] = useState(props.user.lastName);\n  const [location, setLocation] = useState(props.user.location);\n\n  useEffect(() => {\n    let mounted = true;\n    axios\n      .get(`${config.API_URL}/api/location`)\n      .then((response) => {\n        if (mounted) {\n          setLocations(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    return () => (mounted = false);\n  }, [])\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Edit your Profile\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form onSubmit={(event)=>{\n          props.onHide();\n          props.handleProfileChange(event)\n        }}>\n          <Form.Group>\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n              name=\"username\"\n              required\n              type=\"text\"\n              placeholder=\"Enter username\"\n              onChange={(e) => setUsername(e.target.value)}\n              value={username}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              name=\"name\"\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Last Name</Form.Label>\n            <Form.Control\n              name=\"lastName\"\n              type=\"text\"\n              placeholder=\"Enter your last name\"\n              onChange={(e) => setLastName(e.target.value)}\n              value={lastName}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>City</Form.Label>\n\n            <Form.Control\n              as=\"select\"\n              placeholder=\"Select your city\"\n              name=\"location\"\n              onChange={(e) => setLocation(e.target.value)}\n              value={location}\n            >\n              {locations.map((loc, index) => {\n                return (\n                  <option key={index} value={loc._id}>\n                    {loc.city}\n                  </option>\n                );\n              })}\n            </Form.Control>\n          </Form.Group>\n          <Button variant=\"primary\" size=\"lg\" type=\"submit\">\n            Save Changes\n          </Button>\n          <Button onClick={props.onHide}>Close</Button>\n        </Form>\n      </Modal.Body>\n      <Modal.Footer></Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default EditProfile;\n","import config from '../config'\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Modal, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction BookForm(props) {\n  const [photo, setPhoto] = useState(\"\");\n  const [title, setTitle] = useState(props.book.title);\n  const [author, setAuthor] = useState(props.book.author);\n  const [description, setDescription] = useState(props.book.description);\n  const [language, setLanguage] = useState(props.book.language);\n  const [category, setCategory] = useState(props.book.category);\n  const [switchMode, setSwitchMode] = useState(props.book.switchMode);\n  const [fromGoogleList, setFromGooglelist] = useState([]);\n\n  useEffect(() => {\n    if (title || author) {\n      let query = title ? \"/\" + title : \"\";\n      query = author ? query + \"/\" + author : query;\n      setTimeout(() => {\n        axios\n          .get(`${config.API_URL}/api/book/search${query}`, {\n            withCredentials: true,\n          })\n          .then((response) => {\n            setFromGooglelist(response.data);\n          })\n          .catch(() => {});\n      }, 500);\n    }\n  }, [title, author]);\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        \n      </Modal.Header>\n      <div className=\"google-book-card\">\n          {fromGoogleList &&\n            fromGoogleList\n              .filter((book, index) => index < 3)\n              .filter((book) => book.volumeInfo.imageLinks)\n              .filter((book) => book.volumeInfo.authors)\n              .map((book) => {\n                let newTitle =\n                  book.volumeInfo.title.length > 15\n                    ? book.volumeInfo.title.slice(0, 15) + \" ...\"\n                    : book.volumeInfo.title;\n                return (\n                  <a\n                    onClick={() => {\n                      setTitle(book.volumeInfo.title);\n                      setAuthor(book.volumeInfo.authors[0]);\n                      setDescription(book.volumeInfo.description.slice(0,400));\n                      setCategory(book.volumeInfo.categories[0]);\n                      setPhoto(book.volumeInfo.imageLinks.thumbnail)\n                      //setShowGoogle(false)\n                    }}\n                  >\n                    <div class=\"col\">\n                      <div class=\"card\">\n                        <img\n                        \n                          src={book.volumeInfo.imageLinks.smallThumbnail}\n                          alt=\"book-cover\"\n                        ></img>\n                        <div className=\"card-body\">\n                          <h5>{newTitle}</h5>\n                          <h5 className=\"text-muted\">\n                            by {book.volumeInfo.authors[0]}\n                          </h5>\n                        </div>\n                      </div>\n                    </div>\n                  </a>\n                );\n              })}\n        </div>\n      <Modal.Body className=\"hor-ver-2\">\n        <Form\n          onSubmit={(event) => {\n            props.onHide();\n            props.handleAddorEditBook(event);\n          }}\n        >\n          <Form.Group>\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n              onChange={(e) => setTitle(e.target.value)}\n              value={title}\n              name=\"title\"\n              required\n              type=\"text\"\n              placeholder=\"Enter title\"\n            />\n           \n            <Form.Control\n              \n              value={photo}\n              name=\"photo\"\n              hidden\n              type=\"text\"\n              placeholder=\"Enter title\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Author</Form.Label>\n            <Form.Control\n              onChange={(e) => setAuthor(e.target.value)}\n              value={author}\n              name=\"author\"\n              required\n              type=\"text\"\n              placeholder=\"Enter author(s)\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              onChange={(e) => setDescription(e.target.value)}\n              value={description}\n              name=\"description\"\n              type=\"text\"\n              placeholder=\"Enter description\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Language</Form.Label>\n            <Form.Control\n              onChange={(e) => setLanguage(e.target.value)}\n              value={language}\n              name=\"language\"\n              type=\"text\"\n              placeholder=\"Enter language\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Category</Form.Label>\n            <Form.Control\n              onChange={(e) => setCategory(e.target.value)}\n              value={category}\n              name=\"category\"\n              required\n              type=\"text\"\n              placeholder=\"Enter category\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Switch Mode</Form.Label>\n            <Form.Control\n              onChange={(e) => setSwitchMode(e.target.value)}\n              value={switchMode}\n              name=\"switchMode\"\n              required\n              type=\"text\"\n              placeholder=\"Enter Switch Mode\"\n            />\n          </Form.Group>\n          <Button variant=\"primary\" size=\"lg\" block type=\"submit\">\n            Save Book to Library\n          </Button>\n          <Button onClick={props.onHide}>Close</Button>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default BookForm;\n","import React, { Component } from 'react'\nimport {Card,  Button, CardDeck, Row, Col} from 'react-bootstrap'\nimport BookForm from './BookForm'\n\n\nexport default class BookDetailsCard extends Component {\n\n    state={\n        showTextArea:false,\n        showEditBookForm:false,\n    }\n\n    onHide=()=>{\n \n        this.setState({showEditBookForm:false})\n    }\n    render() {\n\n\n        const{showEditBookForm, showTextArea}=this.state\n        const { book,user, handleDelete, handleEditBook } = this.props;\n\n        return (\n            <CardDeck>\n                    {showEditBookForm&&<BookForm show={showEditBookForm} onHide={this.onHide} book={book} handleAddorEditBook={handleEditBook}/> }\n                    <Card className=\"text-center\" >\n                        <Row className=\"book-details\">\n                        <Col>\n                        <Card.Img variant=\"top\" src={book.photo} alt=\"book-cover\"  />\n                        </Col>\n                        <Col>\n                        <Card.Body>\n                        <Card.Title>{book.title}</Card.Title>\n                        <Card.Title className=\"text-muted\">by {book.author}</Card.Title>\n                        <Card.Text>{book.description}</Card.Text>\n                        <Card.Text>Language: {book.language}</Card.Text>\n                        <Card.Text>Category: {book.category}</Card.Text>\n                        </Card.Body>\n                        <Card.Footer>\n                        <div><small className=\"text-muted\">Switch Mode: {book.switchMode}</small></div>\n                        <div><small className=\"text-muted\">City: {book.owner.location.city}</small></div>\n                        </Card.Footer>\n                        {showTextArea&&(\n                            <form id=\"userform\" class=\"center\" method=\"POST\" action=\"/sendmessage/{{data.toy._id}}\">\n                            <textarea name=\"text\" form=\"userform\" cols=\"60\" rows=\"4\" placeholder=\"Enter your message here...\"></textarea>\n                            <button type=\"submit\" class=\"btn btn-primary btn-del\">Send</button>\n                        </form>\n\n                        )}\n                        \n                        <div>\n                        { (user._id===book.owner._id)&&(<img onClick={()=>this.setState({showEditBookForm:true})} style={{cursor: \"pointer\"}} src='/assets/008-edition.png' alt=\"editbook-icon\" ></img>)}\n                        { (user._id===book.owner._id)&&(<img onClick={handleDelete} src='/assets/032-delete-4.png' style={{cursor: \"pointer\"}} alt=\"deletebook-icon\"></img>)}\n                        { (user._id!==book.owner._id)&&(<Button onClick={()=>this.setState({showTextArea:true})}>Request Switch</Button>)} \n                        </div>\n\n                        \n                        </Col>\n                        </Row>\n                    </Card>\n                </CardDeck>\n        )\n    }\n}\n","import React from 'react'\nimport {Button, Modal, Form} from 'react-bootstrap'\n\nexport default function UploadPhotoForm(props) {\n    return (\n        <Modal\n      {...props}\n      size=\"sm\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered>\n        <Modal.Header closeButton>\n            <Modal.Title>Choose a photo to upload</Modal.Title>\n        </Modal.Header>\n        <Form onSubmit={(event)=>{\n          props.onHide();\n          props.handlePhoto(event)\n        }} enctype=\"multipart/form-data\">\n            <input type=\"file\" name=\"photo\" accept=\"image/png, image/jpg\"/>\n            <Button type=\"submit\">Upload Photo</Button> \n        </Form>\n        </Modal> \n    )\n}\n","import config from '../config'\nimport React, { Component } from \"react\";\nimport { Card, Spinner } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport EditProfile from \"./EditProfile\";\nimport BookDetailsCard from \"./BookDetailsCard\";\nimport BookForm from \"./BookForm\";\nimport UploadPhotoForm from \"./UploadPhotoForm\";\n\nexport default class Profile extends Component {\n  state = {\n    addFormShow: false,\n    profileFormShow: false,\n    showUploadPhotoForm: false\n  };\n\n\n  onHide = () => {\n    this.setState({ addFormShow: false });\n  };\n\n  handleProfileChange = (event) => {\n      event.preventDefault();\n\n      let username = event.target.username.value\n      let name = event.target.name.value\n      let lastName = event.target.lastName.value\n      let location = event.target.location.value \n      let _id=this.props.user._id\n      let updatedUser = {username, name, lastName, location,_id}\n      \n\n      axios\n      .post(`${config.API_URL}/api/auth/user`, updatedUser, {\n        withCredentials: true,\n      })\n      .then((response) => {    \n          this.props.history.push(`/profile`);\n      })     \n      .catch((err) => {\n        console.log(\"Something went wrong\", err);\n      });\n\n    }\n\n \n  render() {\n    const { addFormShow, profileFormShow, showUploadPhotoForm } = this.state;\n    const {\n      userLibrary,\n      user,\n      handleDelete,\n      handleEditBook,\n      handleProfileChange,\n      handleAddBook,\n      handlePhoto\n    } = this.props;\n\n    if (!user) {\n      return (\n        <>\n          <Spinner animation=\"border\" variant=\"secondary\" />\n          <Spinner animation=\"border\" variant=\"light\" />\n          <Spinner animation=\"grow\" variant=\"primary\" />\n          <Spinner animation=\"grow\" variant=\"secondary\" />\n          <Spinner animation=\"grow\" variant=\"light\" />\n        </>\n      );\n    }\n\n    return (\n      <div className=\"body-width\" >\n        {addFormShow && (\n          <BookForm\n            show={addFormShow}\n            onHide={this.onHide}\n            book={{}}\n            handleAddorEditBook={handleAddBook}\n          />\n        )}\n        {showUploadPhotoForm && (\n          <UploadPhotoForm\n            show={showUploadPhotoForm}\n            onHide={() => this.setState({ showUploadPhotoForm: false })}\n            handlePhoto={handlePhoto}\n          />\n        )}\n        <h2>Hello {user.name}! <br></br>Welcome to your profile</h2>\n\n        <Card className=\"text-center\" style={{ width: \"18rem\", margin:\"1em auto\" }}>\n          <Card.Img variant=\"top\" src={user.photo} roundedCircle />\n          <div>\n            <img src=\"/assets/003-camera.png\" style={{cursor: \"pointer\"}} onClick={() => this.setState({ showUploadPhotoForm: true })} alt=\"uploadphoto-icon\"></img>\n            <img\n              style = {{cursor:\"pointer\"}}\n              src=\"/assets/008-edition.png\"\n              alt=\"editprofile-icon\"\n              onClick={() => this.setState({ profileFormShow: true })}\n            ></img>\n          </div>\n          <Card.Body>\n            <Card.Title>Your details</Card.Title>\n            <table>\n              <tbody>\n                <tr><th>Username:</th><td>{user.username}</td></tr>\n                <tr><th>Name:</th><td>{user.name}</td></tr>\n                <tr><th>Last name:</th><td>{user.lastName}</td></tr>\n                <tr><th>City:</th><td>{user.location.city}</td></tr>\n                <tr><th>Email:</th><td>{user.email}</td></tr>\n              </tbody>\n            </table>\n          </Card.Body>\n          <Card.Footer>\n            {/* <small className=\"text-muted\">Last switch 3 weeks ago</small> */}\n          </Card.Footer>\n\n          {profileFormShow && (\n            <EditProfile\n              show={profileFormShow}\n              user={user}\n              handleProfileChange={handleProfileChange}\n              onHide={() => this.setState({ profileFormShow: false })}\n            />\n          )}\n        </Card>\n        <div>\n          <img src=\"/assets/library.png\" alt=\"libraryicon\"></img>\n        </div>\n\n        {!userLibrary.length && <h1>You have no books yet in your Library</h1>}\n        <img\n          style={{cursor: \"pointer\"}}\n          src=\"/assets/026-library-2.png\"\n          alt=\"addbook-icon\"\n          onClick={() => this.setState({ addFormShow: true })}\n        ></img>\n\n        {userLibrary.map((book) => {\n          return (\n            <BookDetailsCard\n              key={book._id}\n              handleDelete={(event) => {\n                handleDelete(book._id, event);\n              }}\n              handleEditBook={(event) => {\n                handleEditBook(book._id, event);\n              }}\n              user={user}\n              book={book}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component} from 'react'\n\n\nexport default class FooterBar extends Component {\n    render() {\n\n        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'></link>\n        return (\n            <div >\n              <div className=\"container-fluid pb-0 mb-0 justify-content-center\">\n                <footer>\n                    <div className=\"row justify-content-center py-5\">\n                            <div className=\"col-xl-8 col-sm-4 mb-2 my-auto mx-auto a\">\n                                <h3 className=\"mb-md-0 mb-5 bold-text\">BookSwitch</h3>\n                                <small className=\"rights\"><span>&#174;</span> All Rights Reserved.</small>\n                                <br/><h6 className=\"mb-2 bold-text py-2\"><b>Contact Us</b></h6>\n                                <p className=\"mb-1\">contact@bookswitch.com</p>\n                            </div>\n                    </div>\n                    <div className=\"row justify-content-center\">\n                        <p>\n                            <img className=\"my-3 \" width=\"90px\" src=\"/assets/800px-MERN-logo.png\" alt=\"mernlogo\"/>\n                            <span className=\"bold-text py-1\">IRONHACKERS</span> \n                        </p>      \n\n                        <div className=\"col-md-4 py-1 \">\n                            <h6 className=\"mb-2 bold-text\"><b>Georgina Morales</b></h6><small> georgina@bookswitch.com</small>\n                        </div>\n                        <div className=\"col-md-4 py-1 \" >\n                            <h6 className=\"mb-2 bold-text\"><b>Erdem Taskin</b></h6><small>erdem@bookswitch.com</small>\n                        </div>\n                    </div>        \n                </footer>\n            </div>\n        </div>\n        )\n    }\n}","import React, {useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction LogInForm(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  return (\n    <div>\n      <Form className=\"body-width\" onSubmit={props.handleSubmit}>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            required\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Enter email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n        </Form.Group>\n      <Form.Group controlId=\"formBasicPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          required\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => setPassword(e.target.value)}\n              value={password}\n        />\n      </Form.Group>\n        <Button variant=\"primary\" size=\"lg\" block type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </div>\n  );\n}\n\nexport default LogInForm;\n","import config from '../config'\nimport React, { Component } from 'react';\nimport { Spinner} from 'react-bootstrap'\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class MessageList extends Component {\n    state={\n        messages:null,\n        loggedInUser:null\n    }\n    componentDidMount() {\n\n        if (!this.state.loggedInUser) {\n            axios\n              .get(`${config.API_URL}/api/auth/user`, { withCredentials: true })\n              .then((response) => {\n                this.setState({\n                  loggedInUser: response.data,\n                });\n              })\n              .catch(() => {});\n          }\n        axios\n          .get(`${config.API_URL}/api/message`, { withCredentials: true })\n          .then((response) => {\n            this.setState({ messages: response.data});\n          })\n          .catch(() => {\n            console.log(\"Fetching failed\");\n          });\n      }\n\n      \n\n    render() {\n      const{messages,loggedInUser}=this.state\n      if(!messages||!loggedInUser){\n        return <>\n        <Spinner animation=\"border\" variant=\"primary\" />\n        <Spinner animation=\"border\" variant=\"secondary\" />\n        <Spinner animation=\"border\" variant=\"success\" />\n        <Spinner animation=\"grow\" variant=\"primary\" />\n        <Spinner animation=\"grow\" variant=\"secondary\" />\n        <Spinner animation=\"grow\" variant=\"success\" />\n      </>\n      }\n\n       \n        \n        let contacts=[]  \n        let messageGroups = []\n        messages.filter(msg => (msg.bookRelated)).forEach(ms => {  \n            \n          let contact = (ms.between[0]._id === loggedInUser._id) ? ms.between[1] : ms.between[0]\n          \n          if (!contacts.includes(contact._id)) {\n            let messageGroup = {\n              contact,\n              bookRelated:ms.bookRelated,\n              date: ms.date.toString().substring(4, 9) + ms.date.toString().substring(14, 21),\n              text: ms.text\n            }\n           \n            contacts.push(contact._id)\n            messageGroups.push(messageGroup)\n            \n          }\n\n        });\n        return (\n          \n            <div>\n                {messageGroups.length ? (<h1>Your Messages</h1>) : (<h1>You have no Messages yet</h1>) }\n                <div className=\"list-group\">\n\n                {\n                    messageGroups.map(messagesWithOne=>{\n                        let link=\"/messages/\"+messagesWithOne.contact._id\n                        return (\n                            <Link to={link} key={messagesWithOne.contact._id} class=\"list-group-item-action\">\n                                <div className=\"card mb-3 body-width\">\n                                    <div className=\"row g-0 hor-ver-2\">\n                                        <div className=\"col-md-4\">\n                                            <img className=\"small-image\" src={messagesWithOne.bookRelated.photo} alt=\"bookImage\"></img>\n                                        </div>\n                                        <div className=\"col-md-8\">\n                                            <div className=\"card-body\">\n                                                <h5 className=\"card-title\">Messages with <span>{messagesWithOne.contact.username}</span></h5>\n                                                <h5 className=\"card-title\">Book to Switch <span>{messagesWithOne.bookRelated.title}</span></h5>\n                                                <h5 className=\"card-title\">Book to Switch <span>{messagesWithOne.bookRelated.author}</span></h5>\n                                                <p className=\"card-text\">{messagesWithOne.text}</p>\n                                                <p className=\"text-muted\">{messagesWithOne.date}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </Link>\n                        )\n                    })\n                }\n                </div>   \n            </div>\n        )\n    }\n}\n","import config from '../config'\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class MessagesDetails extends Component {\n    state={\n        messages:[],\n        book:\"\",\n        contact:\"\",\n        loggedInUser:\"\",\n        input:\"\"\n    }\n    componentDidMount() {\n        if (!this.state.loggedInUser) {\n            axios\n              .get(`${config.API_URL}/api/auth/user`, { withCredentials: true })\n              .then((response) => {\n                this.setState({\n                  loggedInUser: response.data,\n                });\n              })\n              .catch(() => {});\n          }\n          let contactId = this.props.match.params.contactId\n        axios\n          .get(`${config.API_URL}/api/message/${contactId}`, { withCredentials: true })\n          .then((response) => {\n            let contact=response.data[0].between[0]._id===contactId ? response.data[0].between[0] : response.data[0].between[1]\n            \n\n\n            this.setState({\n              messages: response.data,\n              book:response.data[0].bookRelated,\n              contact:contact\n            },()=>\n              console.log(this.state.book,this.state.contact))\n          })\n          .catch(() => {\n            console.log(\"Fetching failed\");\n          });\n      }\n\n      handleSubmit=(event)=>{\n        event.preventDefault();\n        const text = event.target.text.value;\n        event.target.reset()\n        let message={\n          text,\n          between:[this.state.loggedInUser._id, this.state.contact._id],\n          bookRelated:this.state.book\n        }\n        axios\n      .post(`${config.API_URL}/api/message`, message, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        \n        this.setState(\n          {\n            messages: [ ...this.state.messages, response.data]\n          },\n          () => {\n            this.props.history.push(`/messages/${this.state.contact._id}`);\n          }\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  \n\n      }\n\n      \n\n\n    render() {\n\n\n      const{messages,book,contact,input}=this.state\n\n     \n      \n      let link=\"/book/\"+book._id\n        return (\n\n                  <div className=\"div-message\">\n                    <Link className=\"book-link\" to={link}>\n                        <div className=\"messages-div list-group\">\n                            <div className=\"card mb-3\" style={{maxWidth: \"800px\"}}>\n                                <div className=\"row g-0\">\n                                    <div className=\"col-md-4\">\n                                        <img className=\"small-image\" src={this.state.book.photo} alt=\"book-cover\"></img>\n                                    </div>\n                                    <div className=\"col-md-8\">\n                                        <div className=\"card-body\">\n                                            <h4 className=\"card-title\">{this.state.book.title}</h4>\n                                            <h5 className=\"card-title\">by {this.state.book.author} </h5>\n                                            <h5 className=\"card-title\">to {this.state.book.switchMode}</h5>\n                                            <p className=\"card-text\">{this.state.book.description}</p> \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n\n                     <h2>Messages with {contact.username}</h2>\n\n\n                     {\n                       messages.map((message)=>{\n                         let date=message.date;\n                         let className=(message.between[1]._id===contact._id)? \"div-right\" : \"div-left\"\n                         return (\n                           <div className={className}>\n                         {message.text}<br></br>\n                         <span className=\"small text-muted\">{date}</span>\n\n                         </div>)\n\n                       })\n                     }\n\n\n                     <form className=\"message-form\" onSubmit={this.handleSubmit}>\n                     <input name=\"text\" required=\"true\" type=\"text\" className=\"form-control\"></input>\n                      <button type=\"submit\" className=\"btn btn-primary btn-del\">Send</button>\n                   </form> \n                  </div>)}}","import config from './config'\nimport React, { Component } from \"react\";\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport NavBar from \"./components/NavBar\";\nimport SignUpForm from \"./components/SignUpForm\";\nimport BookList from \"./components/BookList\";\nimport Welcome from \"./components/Welcome\";\nimport BookDetails from \"./components/BookDetails\";\nimport Profile from \"./components/Profile\";\nimport FooterBar from \"./components/FooterBar\";\nimport LogInForm from \"./components/LogInForm\";\nimport axios from \"axios\";\nimport MessageList from \"./components/MessageList\";\nimport MessagesDetails from \"./components/MessagesDetails\";\n\nclass App extends Component {\n  state = {\n    loggedInUser: \"\",\n    isNewUser: true,\n    userLibrary:[]\n  };\n\n  componentDidMount() {\n\n      axios\n        .get(`${config.API_URL}/api/auth/user`, { withCredentials: true })\n        .then((response) => {\n          this.setState(\n            {\n              loggedInUser: response.data,\n            },\n            () => {\n              axios\n                .get(\n                  `${config.API_URL}/api/book/user/${this.state.loggedInUser._id}`\n                )\n                .then((response) => {\n                  this.setState(\n                    {\n                      userLibrary: response.data,\n                    }\n                  );\n                });\n            }\n          );\n        })\n        .catch(() => {});\n    }\n\n  handlePhoto=(event)=>{\n    event.preventDefault()\n    let photo = event.target.photo.files[0]\n    let uploadForm = new FormData()\n    uploadForm.append('imageUrl', photo)\n   \n\n    axios.post(process.env.REACT_APP_SERVER_URL+\"/api/cloudinary/upload\", uploadForm)\n    .then((response)=> {\n      console.log(response.data)\n    //   axios.post(process.env.REACT_APP_SERVER_URL+\"api/auth/user`, {photo: response.data.photo, \n    //   withCredentials: true,\n    })\n    // .then((response) => {    \n    //   this.setState({\n    //     loggedInUser:response.data\n    //   },() => {\n    //     this.props.history.push(`/profile`);\n    //   })\n    // })    \n    // .catch((err) => {\n    //   console.log(\"Something went wrong\", err);\n    // });\n    // })\n    .catch(()=> {\n\n    })\n    }\n\n  handleSignUp = (event) => {\n    event.preventDefault();\n    const username = event.target.username.value;\n    const name = event.target.name.value;\n    const lastName = event.target.lastName.value;\n    const email = event.target.email.value;\n    const password = event.target.password.value;\n    const location = event.target.location.value;\n    let user = { username, name, lastName, email, password, location };\n\n    axios\n      .post(`${config.API_URL}/api/auth/signup`, user, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        this.setState(\n          {\n            loggedInUser: response.data,\n            isNewUser: true,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleLogIn = (event) => {\n    event.preventDefault();\n    let user = {\n      email: event.target.email.value,\n      password: event.target.password.value,\n    };\n\n    axios\n      .post(`${config.API_URL}/api/auth/login`, user, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        this.setState(\n          {\n            loggedInUser: response.data,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      })\n      .catch((err) => {\n        console.log(\"Something went wrong\", err);\n      });\n  };\n\n  handleLogout = () => {\n    axios\n      .post(\n        `${config.API_URL}/api/auth/logout`,\n        {},\n        { withCredentials: true }\n      )\n      .then(() => {\n        this.setState(\n          {\n            loggedInUser: null,\n          },\n          () => {\n            this.props.history.push(\"/\");\n          }\n        );\n      });\n  };\n\n  handleFirstEdit = (event) => {\n    // this.setState({ isNewUser: false }, () => {\n    //   this.props.history.push(\"/profile\");\n    // });\n  };\n\n  handleEditBook = (id,event) => {\n    event.preventDefault();\n    const title = event.target.title.value;\n    const author = event.target.author.value;\n    const description = event.target.description.value;\n    const photo = event.target.photo.value;\n    const language = event.target.language.value;\n    const category = event.target.category.value;\n    const switchMode = event.target.switchMode.value;\n\n\n\n    const editedBook={title, author,description,language,category,switchMode}\n    \n\n    axios\n      .post(`${config.API_URL}/api/book/edit/${id}`, editedBook, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        let updatedBook=response.data\n        let updatedLibrary=this.state.userLibrary.map(book=>{\n          if(book._id===updatedBook._id){\n            updatedBook.owner=book.owner;\n            return updatedBook\n          }else{\n            return book\n          }\n        })\n        this.setState({\n          userLibrary:updatedLibrary\n        },() => {\n          this.props.history.push(`/book/${id}`);\n        }\n        \n        )     \n    }\n            \n      )\n      .catch((err) => {\n        console.log(\"Something went wrong\", err);\n      }); \n  };\n\n  handleAddBook = (event) => {\n    event.preventDefault();\n    const photo = event.target.photo.value;\n    const title = event.target.title.value;\n    const author = event.target.author.value;\n    const description = event.target.description.value;\n    const language = event.target.language.value;\n    const category = event.target.category.value;\n    const switchMode = event.target.switchMode.value;\n\n    const newBook={title, author,description,language,category,photo,switchMode}\n    \n\n    axios\n      .post(`${config.API_URL}/api/book/add`, newBook, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        let responseBook=response.data\n        this.setState({\n          userLibrary:[responseBook, ...this.state.userLibrary]\n        })  \n    })\n      .catch((err) => {\n        console.log(\"Something went wrong\", err);\n      }); \n  };\n\n  handleDelete = (bookId) => {\n    \n      axios.delete(`${config.API_URL}/api/book/delete/${bookId}`,{\n        withCredentials: true,\n      })\n        .then(() => {\n           \n            let filteredBooks = this.state.userLibrary.filter((book) => {\n              console.log(bookId,\"from map\",book._id)\n              return book._id !== bookId\n            })\n            this.setState({\n              userLibrary: filteredBooks\n            }, () => {\n              this.props.history.push('/profile')\n            })\n        })\n        .catch((err) => {\n          console.log('Delete failed', err)\n        })\n   }\n\n   handleProfileChange = (event) => {\n    event.preventDefault();\n    let username = event.target.username.value\n    let name = event.target.name.value\n    let lastName = event.target.lastName.value\n    let location = event.target.location.value \n    let _id=this.state.loggedInUser._id\n    let updatedUser = {username, name, lastName, location,_id}\n    // let cloneUser = JSON.parse(JSON.stringify(this.props.user))\n    axios.post(`${config.API_URL}/api/auth/user`, updatedUser, {\n      withCredentials: true,\n    })\n    .then((response) => {    \n      this.setState({\n        loggedInUser:response.data\n      },() => {\n        this.props.history.push(`/profile`);\n      })\n    })    \n    .catch((err) => {\n      console.log(\"Something went wrong\", err);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <NavBar\n          handleLogout={this.handleLogout}\n          handleLogIn={this.handleLogIn}\n          handleSignUp={this.handleSignUp}\n          user={this.state.loggedInUser}\n        />\n        {this.state.isNewUser && (\n          <Welcome handleFirstEdit={this.handleFirstEdit} />\n        )}\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={(routeProps) => {\n              return <BookList {...routeProps} />;\n            }}\n          />\n          <Route\n            exact\n            path=\"/messages\"\n            render={(routeProps) => {\n              return <MessageList {...routeProps} />;\n            }}\n          />\n          <Route\n            path=\"/signup\"\n            render={(routeProps) => {\n              return (\n                <SignUpForm handleSubmit={this.handleSignUp} {...routeProps} />\n              );\n            }}\n          />\n          <Route\n            path=\"/login\"\n            render={(routeProps) => {\n              return (\n                <LogInForm handleSubmit={this.handleLogIn} {...routeProps} />\n              );\n            }}\n          />\n          <Route\n            path=\"/book/:bookId\"\n            render={(routeProps) => {\n              return (\n                <BookDetails \n                user={this.state.loggedInUser}\n                handleAddBook={this.handleAddBook}\n                handleDelete={this.handleDelete}\n                handleEditBook={this.handleEditBook}\n                {...routeProps} />\n              );\n            }}\n          />\n          <Route\n            path=\"/messages/:contactId\"\n            render={(routeProps) => {\n              return <MessagesDetails {...routeProps} />;\n            }}\n          />\n          <Route\n            path=\"/profile\"\n            render={(routeProps) => {\n              return (\n                <Profile\n                  userLibrary={this.state.userLibrary}\n                  user={this.state.loggedInUser}\n                  handleAddBook={this.handleAddBook}\n                  handleDelete={this.handleDelete}\n                  handleEditBook={this.handleEditBook}\n                  handleProfileChange={this.handleProfileChange}\n                  handlePhoto={this.handlePhoto}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n        </Switch>\n        <FooterBar />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'react-bootstrap'\nimport \"./index.css\";\nimport \"./App.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}